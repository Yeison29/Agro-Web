<app-header></app-header>

<div class="pagetitle">
  <h1>Precio de los <strong style="color: #3c6a36">cultivos</strong>  en las plazas mayoristas</h1>
</div>

<section class="section">
  <div class="row">
    <div class="col-lg-12">

      <div class="datatable-top">
        <div class="datatable-dropdown">
          <label style="color: #3c6a36;">
            <select class="datatable-selector" [(ngModel)]="entriesPerPage" name="entriesPerPage" (ngModelChange)="onEntriesPerPageChange()">
              <option style="color: #3c6a36;" value="5">5</option>
              <option style="color: #3c6a36;" value="10" selected>10</option>
              <option style="color: #3c6a36;" value="15">15</option>
              <option style="color: #3c6a36;" value="20">20</option>
              <option style="color: #3c6a36;" value="25">25</option>
            </select>
            entradas por página
          </label>
        </div>
        <div class="datatable-search">
          <input type="text" [(ngModel)]="searchText" style="font-style: italic;" placeholder="Buscar en la tabla"/>
          <img class="icon-search" src="assets/magnifying-glass-solid.svg" alt="">
        </div>
      </div>

      <div class="card">
        <div class="card-body">

          <table class="table datatable">
            <thead>
            <tr >
              <th class="header-table" (click)="onSort('numero')">Número</th>
              <th class="header-table" (click)="onSort('fecha')">Fecha</th>
              <th class="header-table" (click)="onSort('fuente')">Plaza</th>
              <th class="header-table" (click)="onSort('articulo')">Artículo o producto</th>
              <th class="header-table" (click)="onSort('minimo')">Precio mínimo</th>
              <th class="header-table" (click)="onSort('maximo')">Precio máximo</th>
              <th class="header-table" (click)="onSort('promedio')">Precio promedio</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let row of displayedData">
              <td class="header-body">{{ row.numero }}</td>
              <td class="header-body">{{ row.fecha }}</td>
              <td class="header-body">{{ row.fuente }}</td>
              <td class="header-body">{{ row.articulo }}</td>
              <td class="header-body">${{ row.minimo }}</td>
              <td class="header-body">${{ row.maximo }}</td>
              <td class="header-body">${{ row.promedio }}</td>
            </tr>
            </tbody>
          </table>

        </div>
      </div>

    </div>
  </div>
  <div class="datatable-bottom">
    <div class="datatable-info">
      Mostrando de {{ getStartIndex() + 1 }} a {{ getEndIndex() }} de {{ displayedData.length }} entradas
    </div>
    <nav class="datatable-pagination">
      <button class="buttons-page" *ngFor="let page of totalPages()" [class.active]="currentPage === page" (click)="goToPage(page)">
        {{ page }}
      </button>
    </nav>
  </div>
</section>

<app-footer></app-footer>
